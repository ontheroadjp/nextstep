# =========================================================
# Nextstep environment variables template
# Copy this file to .env and set values for your environment.
# =========================================================

# ---- Core API (required for app/api/*) -------------------
# Supabase project URL used by API handlers.
# Example: https://your-project-ref.supabase.co
SUPABASE_URL=

# Supabase anon/public key used by API handlers.
# Example: sb_publishable_xxxxxxxxxxxxxxxxxxxxx
SUPABASE_ANON_KEY=

# ---- Seed/maintenance ------------------------------------
# Service role key used only for destructive reset operations.
# Required when running: npm run seed:test-data -- --mode reset
# Example: eyJhbGciOiJI...<snip>
SUPABASE_SERVICE_ROLE_KEY=

# PostgreSQL connection string used by DB migration/backup/rollback scripts.
# Example: postgres://user:password@host:5432/dbname
DATABASE_URL=

# ---- Test accounts (used by integration/test scripts) -----
# Prefix for generated test data names.
# Example: [TEST] 
TEST_PREFIX=[TEST] 

# Primary integration test user email.
# Example: your-test-user-1@example.com
TEST_EMAIL=

# Primary integration test user password.
# Example: strong-password-1
TEST_PASSWORD=

# Secondary integration test user email (for RLS/cross-user checks).
# Example: your-test-user-2@example.com
TEST_EMAIL_2=

# Secondary integration test user password.
# Example: strong-password-2
TEST_PASSWORD_2=

# Enable integration tests when set to 1.
# Example: 1
INTEGRATION_TEST=

# Base URL used by integration/API helper scripts.
# Example: http://localhost:3000
BASE_URL=http://localhost:3000

# ---- Monitoring (optional) ---------------------------------
# Slack Incoming Webhook URL.
# If empty, Slack notifications are disabled.
# Example: https://hooks.slack.com/services/T000/B000/XXXX
MONITORING_SLACK_WEBHOOK_URL=

# Cooldown window for duplicate Slack notifications (milliseconds).
# Example: 60000
MONITORING_SLACK_COOLDOWN_MS=60000

# API latency warning threshold (milliseconds).
# Example: 1500
MONITORING_LATENCY_THRESHOLD_MS=1500

# ---- API protection / rate limit (optional) ---------------
# Fixed window length for API rate limiting (milliseconds).
# Example: 60000
API_RATE_LIMIT_WINDOW_MS=60000

# Max requests per window for auth APIs (/api/auth/*).
# Example: 60
API_RATE_LIMIT_MAX_AUTH=60

# Max requests per window for write APIs (POST/PATCH/DELETE/PUT).
# Example: 300
API_RATE_LIMIT_MAX_WRITE=300
